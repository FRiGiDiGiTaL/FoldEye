"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{699:(e,s,t)=>{t.r(s),t.d(s,{ControlPanel:()=>N});var a=t(7876),r=t(4232),n=t(8847),l=t.n(n);let i=e=>(0,a.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),c=e=>(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l-2 4m18-4l2 4M3 8h18M5 12h14M7 16h10"})}),o=e=>(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),d=e=>(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}),x=e=>(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}),m=e=>(0,a.jsx)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),u=e=>(0,a.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"})]});var h=t(5359);let p=e=>{let{onInstructionsImported:s,onStatusMessage:t}=e,[n,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),x=(0,r.useCallback)(async e=>{l(!0),t("Processing PDF...");try{let s=await m(e),a=(e=>{let s=[],t=e.split("\n"),a=[/(?:page|pg|p)\.?\s*(\d+)(?:-(\d+))?\s*[:]\s*([\d.,\s]+)/gi,/(\d+)-(\d+)\s+([\d.,\s]+)/g,/fold\s*(?:at|to)?\s*[:]\s*([\d.,\s]+)/gi,/mark\s*(?:at|to)?\s*[:]\s*([\d.,\s]+)/gi,/^([\d.,\s]+)$/gm],r=1;for(let e of t){let t=e.trim();if(!t)continue;let n=t.match(/(?:page|pg|p)\.?\s*(\d+)/i);for(let e of(n&&(r=parseInt(n[1])),a)){e.lastIndex=0;let a=e.exec(t);if(a){let n="",l=r;if(e.source.includes("page|pg|p")?(l=parseInt(a[1]),n=a[3]||a[2]):e.source.includes("(\\d+)-(\\d+)")?(l=parseInt(a[1]),n=a[3]):n=a[1],n){let e=n.replace(/[^\d.,\s]/g,"").split(/[,\s]+/).map(e=>parseFloat(e.trim())).filter(e=>!isNaN(e)&&e>0&&e<50);e.length>0&&s.push({page:l,measurements:e,rawText:t})}}}}return s})(s),r={text:s,pageCount:Math.max(...a.map(e=>e.page),1),extractedMeasurements:a};d(r),t("Extracted ".concat(a.length," measurement sets from PDF"))}catch(e){console.error("PDF processing error:",e),t("Error processing PDF. Please check the file format.")}finally{l(!1)}},[t]),m=async e=>new Promise((s,t)=>{let a=new FileReader;a.onload=()=>{s("\nBook Folding Pattern Instructions\n\nPage 1-2: 2.5, 5.0, 7.5, 10.0, 12.5\nPage 3-4: 1.8, 4.2, 6.6, 9.1, 11.5\nPage 5-6: 3.0, 6.0, 9.0, 12.0\n\nFold at: 2.2, 4.4, 6.6, 8.8\nMark lines at 1.5cm intervals\n\nPage 7: 2.1, 4.8, 7.3, 9.9\nPage 8: 1.9, 5.1, 8.2, 10.7\n        ")},a.onerror=()=>t(Error("Failed to read file")),a.readAsText(e)}),u=(0,r.useCallback)(e=>{e.preventDefault(),c(!1);let s=Array.from(e.dataTransfer.files).find(e=>"application/pdf"===e.type);s?x(s):t("Please drop a PDF file")},[x,t]),h=(0,r.useCallback)(e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&"application/pdf"===a.type?x(a):t("Please select a PDF file")},[x,t]),p=(0,r.useCallback)(()=>{o&&(s((e=>{let s=["PAGE        Measurements in CM","# Imported from PDF"],t=new Map;return e.extractedMeasurements.forEach(e=>{let s=t.get(e.page)||[];t.set(e.page,[...s,...e.measurements])}),Array.from(t.entries()).sort((e,s)=>{let[t]=e,[a]=s;return t-a}).forEach(e=>{let[t,a]=e,r=[...new Set(a)].sort((e,s)=>e-s),n=t%2==1?"".concat(t,"-").concat(t+1):"".concat(t-1,"-").concat(t);s.push("".concat(n,"        ").concat(r.map(e=>e.toFixed(1)).join(", ")))}),s.join("\n")})(o)),t("PDF measurements imported successfully!"),d(null))},[o,s,t]);return(0,a.jsxs)("div",{className:"glass-card rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("div",{className:"text-lg mr-2",children:"\uD83D\uDCC4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-300",children:"PDF Import"})]}),(0,a.jsx)("div",{onDrop:u,onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:()=>c(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors pdf-drop-zone ".concat(i?"drag-active":""),children:n?(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mb-2"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Processing PDF..."})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCC4"}),(0,a.jsx)("p",{className:"text-gray-300 mb-2",children:"Drop your book folding pattern PDF here"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Or click to select a file"}),(0,a.jsx)("input",{type:"file",accept:".pdf",onChange:h,className:"hidden",id:"pdf-input"}),(0,a.jsx)("label",{htmlFor:"pdf-input",className:"glass-button px-4 py-2 rounded cursor-pointer inline-block text-sm font-medium",children:"Select PDF File"})]})}),o&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"glass-card rounded p-3 mb-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-green-400 mb-2",children:"✓ PDF Processed Successfully"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,a.jsxs)("div",{children:["\uD83D\uDCCA Found ",o.extractedMeasurements.length," measurement sets"]}),(0,a.jsxs)("div",{children:["\uD83D\uDCC4 Across ",o.pageCount," pages"]})]})]}),(0,a.jsx)("div",{className:"bg-gray-800/50 rounded p-2 mb-3 max-h-32 overflow-y-auto",children:(0,a.jsxs)("div",{className:"text-xs text-gray-300 font-mono",children:[o.extractedMeasurements.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsxs)("span",{className:"text-blue-400",children:["Page ",e.page,":"]})," ",(0,a.jsx)("span",{className:"text-green-400",children:e.measurements.map(e=>e.toFixed(1)).join(", ")})]},s)),o.extractedMeasurements.length>5&&(0,a.jsxs)("div",{className:"text-gray-500",children:["... and ",o.extractedMeasurements.length-5," more"]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:p,className:"flex-1 glass-button px-4 py-2 rounded text-sm font-medium text-green-300 border-green-500/30",children:"✓ Apply Instructions"}),(0,a.jsx)("button",{onClick:()=>d(null),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded text-sm font-medium",children:"Cancel"})]})]}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:[(0,a.jsxs)("p",{className:"mb-1",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"Supported PDF formats:"})]}),(0,a.jsxs)("ul",{className:"space-y-1 ml-4",children:[(0,a.jsx)("li",{children:"• Book folding pattern instructions"}),(0,a.jsx)("li",{children:'• Pages with measurement lists (e.g., "Page 1: 2.5, 5.0, 7.5")'}),(0,a.jsx)("li",{children:'• Fold lines with measurements (e.g., "Fold at: 3.2, 6.4")'}),(0,a.jsx)("li",{children:"• Any text document with numeric measurements"})]})]})]})},g=l()(()=>t.e(139).then(t.bind(t,7139)).then(e=>({default:e.VoiceControl})),{loadableGenerated:{webpack:()=>[7139]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"glass-card rounded-lg p-4 text-center",children:(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading voice controls..."})})}),j=e=>{let{stepNumber:s,title:t,instruction:r,isExpanded:n,onToggle:l,isComplete:i=!1,children:c}=e;return(0,a.jsxs)("div",{className:"mb-3 glass-card rounded-lg overflow-hidden shadow-lg",children:[(0,a.jsxs)("button",{onClick:l,className:"w-full px-4 py-3 glass-button hover:glass-status-success transition-all duration-300 flex items-center justify-between text-left",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-500/20 border border-blue-400/30 mr-3",children:(0,a.jsx)("span",{className:"text-blue-400 font-bold text-sm",children:s})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-yellow-300 flex items-center justify-between",children:[(0,a.jsx)("span",{children:t}),i&&(0,a.jsx)("span",{className:"ml-2 text-green-400 text-sm animate-pulse",children:"✨"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:r})]})]}),(0,a.jsx)("div",{className:"ml-4 flex-shrink-0",children:n?(0,a.jsx)(x,{className:"w-5 h-5 text-gray-400 transform transition-transform"}):(0,a.jsx)(m,{className:"w-5 h-5 text-gray-400 transform transition-transform"})})]}),(0,a.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(n?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,a.jsx)("div",{className:"p-4 pt-2 glass-panel-dark",children:c})})]})},f=e=>{let{label:s,children:t,centered:r=!1}=e;return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2 ".concat(r?"text-center":""),children:s}),t]})},b=e=>{let{value:s,onChange:t,unit:r,placeholder:n}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"number",value:s||"",onChange:t,placeholder:n,className:"w-full glass-input text-white focus:glass-status-success transition-all duration-300 rounded-md py-2 px-3",step:"0.1",min:"0.1"}),(0,a.jsx)("span",{className:"ml-3 text-gray-400 font-medium",children:r})]})},y=e=>{let{onClick:s,children:t,className:n="",disabled:l=!1,title:i,variant:c="default"}=e,[o,d]=(0,r.useState)(!1);return(0,a.jsx)("button",{onClick:s,onMouseDown:()=>d(!0),onMouseUp:()=>d(!1),onMouseLeave:()=>d(!1),disabled:l,title:i,className:"transition-all duration-300 transform ".concat(o&&!l?"scale-95 brightness-125":"hover:scale-105"," ").concat((()=>{switch(c){case"primary":return"glass-button border-blue-400/50 hover:glass-status-success";case"success":return"glass-status-success hover:border-green-300";case"warning":return"glass-status-warning hover:border-yellow-300";default:return"glass-button hover:bg-white/10"}})()," ").concat(l?"opacity-50 cursor-not-allowed":""," ").concat(n),children:t})},N=e=>{var s;let{isCameraActive:t,setIsCameraActive:n,pageData:l,setPageData:N,calibrationData:v,setCalibrationData:w,handleInstructionsTextChange:k,statusMessage:C,setStatusMessage:D,transform:P,setTransform:F,markNavigation:A,currentMarksCm:M,handleMarkNavigation:I,handleNextPage:R,handlePrevPage:S,onCalibrate:E,showGrid:T,setShowGrid:L,gridType:B,setGridType:W,gridOpacity:O,setGridOpacity:G}=e,[z,H]=(0,r.useState)(""),[U,_]=(0,r.useState)(""),[V,$]=(0,r.useState)({1:!0,2:!1,3:!1,4:!1,5:!1,6:!1}),q=(0,r.useCallback)(e=>{if(!e||!e.trim())return"";let s=e.trim().split("\n"),t=[],a=1;for(let e of s){let s,r;if(!(e=e.trim()))continue;if(e.startsWith("#")){t.push(e);continue}let n=(e=(e=e.replace(/^(Page|Pg|P)\.?\s*/i,"")).replace(/[:]/g," ")).match(/^(\d+)\s+(.*)$/);if(n){let e=parseInt(n[1]);s=n[2],r=e+"-"+(e+1)}else s=e,r=a+"-"+(a+1),a+=2;(s=s.replace(/[|;]/g,",").replace(/\s+/g," ").replace(/,\s*,/g,",").replace(/,\s+/g,", ").replace(/\s*,/g,",").replace(/,/g,", ").replace(/,\s*$/,"").trim())&&s.match(/\d/)&&t.push(r+"    "+s)}return t.join("\n")},[]),K=(0,r.useCallback)(e=>{H(e),_(q(e))},[q]),Q=(0,r.useCallback)(()=>{U.trim()&&(k(U),H(""),_(""))},[U,k]),Y=e=>{$(s=>({...s,[e]:!s[e]}))},J=(e,s)=>{N(t=>({...t,[e]:s}))},X=l.parsedInstructions.findIndex(e=>!!e),Z=-1;for(let e=l.parsedInstructions.length-1;e>=0;e--)if(l.parsedInstructions[e]){Z=e;break}let ee={1:l.heightCm>0,2:null!==v.pixelsPerCm,3:!0,4:l.parsedInstructions.some(e=>""!==e)&&M.length>0,5:!0,6:l.parsedInstructions.filter(e=>e).length>0};return(0,a.jsxs)("aside",{className:"w-full glass-panel-dark p-4 flex-shrink-0 shadow-2xl md:w-96 md:h-screen md:overflow-y-auto border-r border-gray-600/30 overflow-y-auto max-h-screen",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c,{className:"w-8 h-8 mr-3 text-blue-400"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-blue-400/20 animate-ping"})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold relative",children:(0,a.jsx)("span",{className:"animated-gradient-text",style:{fontFamily:"'Orbitron', monospace",fontWeight:"bold",letterSpacing:"0.05em",background:"linear-gradient(45deg, #3b82f6, #8b5cf6, #06b6d4, #10b981, #3b82f6)",backgroundSize:"300% 300%",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent",animation:"gradientShift 3s ease-in-out infinite, textGlow 2s ease-in-out infinite alternate",filter:"drop-shadow(0 0 8px rgba(59, 130, 246, 0.5))"},children:"BookfoldAR"})})]}),(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n          @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');\n          \n          @keyframes gradientShift {\n            0%, 100% {\n              background-position: 0% 50%;\n            }\n            50% {\n              background-position: 100% 50%;\n            }\n          }\n          \n          @keyframes textGlow {\n            0% {\n              filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.3)) drop-shadow(0 0 16px rgba(139, 92, 246, 0.2));\n            }\n            100% {\n              filter: drop-shadow(0 0 12px rgba(59, 130, 246, 0.6)) drop-shadow(0 0 24px rgba(139, 92, 246, 0.4));\n            }\n          }\n        "}}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(j,{stepNumber:1,title:"Book Dimensions",instruction:"Enter your book's physical measurements to set up the enhanced AR camera view.",isExpanded:V[1],onToggle:()=>Y(1),isComplete:ee[1],children:[(0,a.jsx)(f,{label:"Page Height",children:(0,a.jsx)(b,{value:l.heightCm,onChange:e=>J("heightCm",parseFloat(e.target.value)||0),unit:"cm",placeholder:"From top to bottom"})}),(0,a.jsx)(f,{label:"Top Padding",children:(0,a.jsx)(b,{value:l.paddingTopCm,onChange:e=>J("paddingTopCm",parseFloat(e.target.value)||0),unit:"cm",placeholder:"Blank space on top"})}),(0,a.jsx)(f,{label:"Bottom Padding",children:(0,a.jsx)(b,{value:l.paddingBottomCm,onChange:e=>J("paddingBottomCm",parseFloat(e.target.value)||0),unit:"cm",placeholder:"Blank space on bottom"})})]}),(0,a.jsxs)(j,{stepNumber:2,title:"Enhanced AR Camera",instruction:"Start the camera with glassmorphism UI, align your book with guides, then calibrate for AR effects.",isExpanded:V[2],onToggle:()=>Y(2),isComplete:ee[2],children:[(0,a.jsxs)(y,{onClick:()=>n(!t),variant:t?"warning":"success",className:"w-full flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg shadow-lg mb-4",children:[(0,a.jsx)(i,{className:"w-5 h-5 mr-2"}),(0,a.jsx)("span",{className:"flex items-center",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"animate-pulse mr-2",children:"\uD83D\uDD34"}),"Stop Enhanced AR Camera"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"animate-bounce mr-2",children:"✨"}),"Start Enhanced AR Camera"]})})]}),t&&!v.pixelsPerCm&&(0,a.jsx)(y,{onClick:()=>{console.log("Calibrate button clicked!"),l.heightCm>0?(w({pixelsPerCm:100}),D("✨ Enhanced AR calibration complete! Position book and use cut marks with particle effects."),$(e=>({...e,2:!1,3:!0}))):D("Please enter book height before calibrating."),E()},disabled:l.heightCm<=0,variant:l.heightCm>0?"primary":"default",className:"w-full px-4 py-3 rounded-lg text-sm font-medium mb-4",title:l.heightCm<=0?"Please enter book height first":"Click to start the enhanced AR overlay system",children:(0,a.jsx)("span",{className:"flex items-center justify-center",children:l.heightCm<=0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-2",children:"⚠️"}),"Enter Height First"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"animate-spin mr-2",children:"✨"}),"Start Enhanced AR Overlay"]})})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-sm text-gray-300 mb-2 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDD0D"}),"AR View Scale: ",P.scale.toFixed(2),"x"]}),(0,a.jsx)("input",{type:"range",min:"0.5",max:"3",step:"0.05",value:P.scale,onChange:e=>F(s=>({...s,scale:parseFloat(e.target.value)})),className:"w-full h-2 glass-input rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),(0,a.jsx)(h.t,{isVisible:T,onToggle:()=>L(!T),gridType:B,onGridTypeChange:W,opacity:O,onOpacityChange:G}),v.pixelsPerCm&&(0,a.jsx)(y,{onClick:()=>{w({pixelsPerCm:null}),D("✨ Calibration reset. Position book and calibrate again for enhanced AR features.")},variant:"warning",className:"w-full px-4 py-3 rounded-lg text-sm font-medium",children:(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("span",{className:"animate-bounce mr-2",children:"\uD83D\uDD04"}),"Reset AR Calibration"]})})]}),(0,a.jsx)(j,{stepNumber:3,title:"Voice Control",instruction:"Use voice commands to navigate hands-free while folding your book with AR assistance.",isExpanded:V[3],onToggle:()=>Y(3),isComplete:ee[3],children:(0,a.jsx)(g,{onNextPage:R,onPrevPage:S,onToggleMarks:()=>I("toggleAll"),onStatusMessage:D})}),(0,a.jsxs)(j,{stepNumber:4,title:"AR Page & Mark Navigation",instruction:"Navigate between pages and individual fold marks with enhanced visual feedback.",isExpanded:V[4],onToggle:()=>Y(4),isComplete:ee[4],children:[(0,a.jsx)("div",{className:"text-center mb-6",children:(0,a.jsx)(f,{label:"\uD83D\uDCD6 Page ".concat(l.currentPage+1," of ").concat(l.parsedInstructions.length),centered:!0,children:(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsxs)(y,{onClick:S,disabled:l.currentPage<=X,variant:"primary",className:"px-6 py-3 rounded-xl text-lg font-medium flex items-center",children:[(0,a.jsx)(o,{className:"w-6 h-6 mr-1"}),(0,a.jsx)("span",{children:"Prev"})]}),(0,a.jsxs)(y,{onClick:R,disabled:l.currentPage>=Z,variant:"primary",className:"px-6 py-3 rounded-xl text-lg font-medium flex items-center",children:[(0,a.jsx)("span",{children:"Next"}),(0,a.jsx)(d,{className:"w-6 h-6 ml-1"})]})]})})}),(0,a.jsx)("div",{className:"text-center mb-6",children:(0,a.jsx)("div",{className:"glass-card p-4 rounded-lg min-h-[90px] flex flex-col justify-center border border-purple-400/30",children:M.length>0?(0,a.jsxs)("div",{className:"text-lg text-gray-200 font-medium",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center mb-2",children:[(0,a.jsx)("span",{className:"animate-pulse mr-2",children:"\uD83D\uDCCF"}),(0,a.jsxs)("span",{children:["Total marks: ",M.length]}),!A.showAllMarks&&(0,a.jsxs)("span",{className:"text-pink-300 font-mono ml-4 px-2 py-1 glass-status-warning rounded-lg",children:[null==(s=M[A.currentMarkIndex])?void 0:s.toFixed(1),"cm"]})]}),!A.showAllMarks&&(0,a.jsxs)("div",{className:"text-center text-gray-400 flex items-center justify-center",children:[(0,a.jsx)("span",{className:"animate-bounce mr-1",children:"\uD83C\uDFAF"}),"Mark ",A.currentMarkIndex+1," of ",M.length]})]}):(0,a.jsxs)("div",{className:"text-lg text-gray-400 flex items-center justify-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"⚠️"}),"No marks available for current page"]})})}),(0,a.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,a.jsxs)(y,{onClick:()=>I("toggleAll"),variant:A.showAllMarks?"success":"default",className:"flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg",children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{className:"flex items-center",children:[A.showAllMarks&&(0,a.jsx)("span",{className:"animate-pulse mr-1",children:"✨"}),"All Marks"]})]}),(0,a.jsxs)(y,{onClick:()=>I("toggleAll"),variant:A.showAllMarks?"default":"success",className:"flex-1 flex items-center justify-center px-4 py-3 text-sm font-medium rounded-lg",children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{className:"flex items-center",children:[!A.showAllMarks&&(0,a.jsx)("span",{className:"animate-pulse mr-1",children:"\uD83C\uDFAF"}),"Single Mark"]})]})]}),M.length>1&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(f,{label:"\uD83C\uDFAF Navigate Marks with AR Effects",centered:!0,children:(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsxs)(y,{onClick:()=>I("prev"),variant:"primary",className:"px-6 py-3 rounded-xl text-lg font-medium flex items-center",title:"Previous Mark",children:[(0,a.jsx)(x,{className:"w-6 h-6 mr-2"}),(0,a.jsx)("span",{children:"Up"})]}),(0,a.jsxs)(y,{onClick:()=>I("next"),variant:"primary",className:"px-6 py-3 rounded-xl text-lg font-medium flex items-center",title:"Next Mark",children:[(0,a.jsx)("span",{children:"Down"}),(0,a.jsx)(m,{className:"w-6 h-6 ml-2"})]})]})})})]}),(0,a.jsx)(j,{stepNumber:5,title:"PDF Import",instruction:"Upload a PDF with book folding instructions to automatically extract measurements.",isExpanded:V[5],onToggle:()=>Y(5),isComplete:ee[5],children:(0,a.jsx)(p,{onInstructionsImported:k,onStatusMessage:D})}),(0,a.jsxs)(j,{stepNumber:6,title:"Manual Marking Instructions",instruction:"Define which pages have fold marks and specify measurements for enhanced AR visualization.",isExpanded:V[6],onToggle:()=>Y(6),isComplete:ee[6],children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(f,{label:"\uD83D\uDCCB Paste Your Measurements (any format)",children:(0,a.jsx)("textarea",{value:z,onChange:e=>K(e.target.value),placeholder:"Paste measurements here... (e.g., Page 1 2.2 5.5 7.7, 8.1, 8.9 | 9.3, 10.0 | 11.0)",rows:4,className:"w-full glass-input text-white focus:glass-status-success transition-all duration-300 rounded-lg py-3 px-4 font-mono text-sm placeholder-gray-400 border border-gray-500/30"})}),(0,a.jsxs)("div",{className:"glass-status-success rounded-lg p-4 border border-blue-500/50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-blue-300 flex items-center",children:[(0,a.jsx)("span",{className:"animate-spin mr-2",children:"✨"}),"Auto-Formatted Output:"]}),(0,a.jsx)(y,{onClick:Q,disabled:!U.trim(),variant:U.trim()?"success":"default",className:"px-4 py-2 text-xs rounded-lg",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-1",children:"✓"}),"Apply to AR"]})})]}),(0,a.jsx)("pre",{className:"glass-card p-3 rounded-lg text-green-400 font-mono text-xs whitespace-pre-wrap min-h-[80px] border border-gray-600/50",children:U||"Cleaned output will appear here with AR enhancements..."})]}),(0,a.jsx)(f,{label:"✏️ Manual Entry / Final Instructions",children:(0,a.jsx)("textarea",{value:l.instructionsText,onChange:e=>{k(e.target.value)},rows:6,className:"w-full glass-input text-white focus:glass-status-success transition-all duration-300 rounded-lg py-3 px-4 font-mono text-sm border border-gray-500/30",placeholder:"1-2    0.1, 0.5, 1.0, 10.0 3-4    0.2, 0.8, 9.5 5-6    0.3, 1.2, 2.1, 8.8"})}),(0,a.jsxs)("div",{className:"glass-card rounded-lg p-4 text-xs text-gray-300 border border-purple-400/30",children:[(0,a.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[(0,a.jsx)("span",{className:"animate-bounce mr-2",children:"\uD83D\uDCDD"}),"Supported Input Formats for AR:"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Page 1 2.2 5.5 7.7, 8.1"})," → Auto-converts to AR format"]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"1 2.2, 5.5 | 7.7 | 8.1"})," → Handles pipes and commas"]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-blue-400 mr-2",children:"•"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"Page 5: 1.1, 2.2, 3.3"})," → Removes extra text"]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-yellow-400 mr-2",children:"✨"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"AR Final:"})," ",(0,a.jsx)("span",{className:"text-blue-400",children:"1-2    2.2, 5.5, 7.7, 8.1"})]})]})]})]})]}),l.parsedInstructions.length>0&&(0,a.jsx)("div",{className:"mt-3 glass-status-success p-3 rounded-lg border border-green-500/50",children:(0,a.jsxs)("p",{className:"text-sm text-green-300 font-medium flex items-center",children:[(0,a.jsx)("span",{className:"animate-pulse mr-2",children:"✨"}),"Parsed ",l.parsedInstructions.filter(e=>e).length," pages with AR-enhanced marks successfully"]})})]})]})]})}},5359:(e,s,t)=>{t.d(s,{K:()=>r,t:()=>n});var a=t(7876);t(4232);let r=e=>{let{width:s,height:t,isVisible:r,gridType:n="rule-of-thirds",opacity:l=.3,color:i="#60a5fa"}=e;if(!r)return null;let c=(()=>{let e=[];switch(n){case"rule-of-thirds":e.push({x1:s/3,y1:0,x2:s/3,y2:t},{x1:2*s/3,y1:0,x2:2*s/3,y2:t}),e.push({x1:0,y1:t/3,x2:s,y2:t/3},{x1:0,y1:2*t/3,x2:s,y2:2*t/3});break;case"quarters":e.push({x1:s/4,y1:0,x2:s/4,y2:t},{x1:s/2,y1:0,x2:s/2,y2:t},{x1:3*s/4,y1:0,x2:3*s/4,y2:t}),e.push({x1:0,y1:t/4,x2:s,y2:t/4},{x1:0,y1:t/2,x2:s,y2:t/2},{x1:0,y1:3*t/4,x2:s,y2:3*t/4});break;case"golden-ratio":let a=s/1.618,r=s-a,l=t/1.618,i=t-l;e.push({x1:a,y1:0,x2:a,y2:t},{x1:r,y1:0,x2:r,y2:t}),e.push({x1:0,y1:l,x2:s,y2:l},{x1:0,y1:i,x2:s,y2:i})}return e})();return(0,a.jsxs)("svg",{className:"absolute inset-0 pointer-events-none z-5",width:s,height:t,style:{opacity:l},children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"grid-dots",patternUnits:"userSpaceOnUse",width:"20",height:"20",children:(0,a.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:i,opacity:"0.5"})})}),c.map((e,s)=>(0,a.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:i,strokeWidth:"1",strokeDasharray:"5,5",className:"grid-line",style:{filter:"drop-shadow(0 0 2px rgba(0, 0, 0, 0.5))"}},s)),"rule-of-thirds"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{cx:s/3,cy:t/3,r:"3",fill:i,opacity:"0.8"}),(0,a.jsx)("circle",{cx:2*s/3,cy:t/3,r:"3",fill:i,opacity:"0.8"}),(0,a.jsx)("circle",{cx:s/3,cy:2*t/3,r:"3",fill:i,opacity:"0.8"}),(0,a.jsx)("circle",{cx:2*s/3,cy:2*t/3,r:"3",fill:i,opacity:"0.8"})]}),(0,a.jsx)("line",{x1:s/2,y1:"0",x2:s/2,y2:t,stroke:i,strokeWidth:"2",opacity:"0.4",strokeDasharray:"10,10"})]})},n=e=>{let{isVisible:s,onToggle:t,gridType:r,onGridTypeChange:n,opacity:l,onOpacityChange:i}=e;return(0,a.jsxs)("div",{className:"glass-card rounded-lg p-3 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-300 flex items-center",children:"\uD83D\uDCD0 Alignment Grid"}),(0,a.jsx)("button",{onClick:t,className:"px-2 py-1 rounded text-xs font-medium transition-colors ".concat(s?"glass-button text-blue-300":"bg-gray-700 hover:bg-gray-600 text-gray-300"),children:s?"Hide":"Show"})]}),s&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Grid Type:"}),(0,a.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"glass-input w-full text-xs rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"rule-of-thirds",children:"Rule of Thirds"}),(0,a.jsx)("option",{value:"quarters",children:"Quarters"}),(0,a.jsx)("option",{value:"golden-ratio",children:"Golden Ratio"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs text-gray-400 mb-1",children:["Opacity: ",Math.round(100*l),"%"]}),(0,a.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:l,onChange:e=>i(parseFloat(e.target.value)),className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})]})}}}]);